{"version":3,"sources":["components/menu-list-item/index.js","components/menu-list-item/menu-list-item.js","components/resto-service-context/index.js","components/resto-service-context/resto-service-context.js","components/hoc/index.js","components/hoc/with-resto-service.js","actions/index.js","components/spinner/index.js","components/spinner/spinner.js","components/error/index.js","components/error/error.js","components/menu-list/menu-list.js","components/menu-list/index.js","components/pages/main-page.js","components/cart-table/cart-table.js","components/cart-table/index.js","components/pages/cart-page.js","components/pages/item-page.js","components/app-header/shopping-cart-solid.svg","components/app-header/index.js","components/app-header/app-header.js","components/app/food-bg.jpg","components/app/index.js","components/app/app.js","components/error-boundry/error-boundry.js","components/error-boundry/index.js","services/resto-service.js","reducers/index.js","store.js","index.js"],"names":["MenuListItem","menuItem","onAddToCart","title","price","url","category","className","to","id","src","alt","onClick","e","preventDefault","RestoServiceContext","React","createContext","WithRestoService","Wrapped","props","Consumer","RestoService","menuLoaded","newMenu","type","payload","menuRequested","addedToCart","menuError","Spinner","Error","MenuList","this","getMenuItems","then","res","catch","menuItems","loading","error","items","map","Component","mapDispatchToProps","View","connect","state","menu","MainPage","generateOrder","item","qntty","deleteFromCart","CartTable","length","serOrder","CartPage","ItemPage","lenth","find","elem","match","params","AppHeader","totalPrice","cartIcon","App","style","background","Background","path","component","exact","ErrorBoundary","setState","children","_apiBase","a","fetch","ok","status","json","getResource","console","log","order","getOrderNumber","number","newOrder","method","headers","body","JSON","stringify","orderNumber","initialState","reducer","action","itemInd","findIndex","itemInState","newItem","slice","idx","itemIndex","index","store","createStore","restoService","ReactDOM","render","Provider","value","document","getElementById"],"mappings":"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","file":"static/js/main.814e63ff.chunk.js","sourcesContent":["import MenuListItem from './menu-list-item';\nexport default MenuListItem;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './menu-list-item.scss';\n\nconst MenuListItem = ({menuItem,onAddToCart}) => {\n    const {title,price,url,category} = menuItem;\n    return (\n      <>\n        <li className=\"menu__item\">\n            <Link to = {`/${menuItem.id}`}>\n                <div className=\"menu__title\">{title}</div>\n                <img className=\"menu__img\" src={url} alt={title}></img>\n                <div className=\"menu__category\">Category: <span>{category}</span></div>\n                <div className=\"menu__price\">Price: <span>{price}$</span></div>\n                <button onClick={(e) => {\n                    e.preventDefault();\n                    onAddToCart();\n                    } } \n                    className=\"menu__btn\">Add to cart</button>\n                    <span className={`menu__category_Img ${category}`}></span>\n            </Link>\n        </li>\n      </>   \n    )\n}\n\nexport default MenuListItem;","import RestoServiceContext from './resto-service-context';\n\nexport default RestoServiceContext;","import React from \"react\";\r\n\r\nconst RestoServiceContext = React.createContext();\r\n\r\n\r\nexport default RestoServiceContext;","import WithRestoService from './with-resto-service';\n\nexport default WithRestoService;","import React from 'react';\nimport RestoServiceContext from '../resto-service-context';\n\nconst WithRestoService = () => (Wrapped) => {\n    return (props) => {\n        return (\n            <RestoServiceContext.Consumer>\n                {\n                    (RestoService) => {\n                        return <Wrapped {...props} RestoService={RestoService}/>\n                    }\n                }\n            </RestoServiceContext.Consumer>\n        )\n    };\n};\n\nexport default WithRestoService;","const menuLoaded = (newMenu) => {\r\n    return {\r\n        type: 'MENU_LOADED',\r\n        payload: newMenu\r\n    };\r\n};\r\n\r\nconst menuRequested = () => {\r\n    return {\r\n        type: 'MENU_REQUESTED',\r\n    };\r\n};\r\n\r\nconst addedToCart = (id) => {\r\n    return {\r\n        type: 'ITEM_ADD_TO_CART',\r\n        payload: id\r\n    };\r\n};\r\n\r\nconst deleteFromCart = (id) => {\r\n    return {\r\n        type: 'ITEM_REMOVE_FROM_CART',\r\n        payload: id\r\n    };\r\n};\r\n\r\nconst menuError = () => {\r\n    return {\r\n        type: 'MENU_ERROR'\r\n    };\r\n};\r\n\r\nexport {\r\n    menuLoaded,\r\n    menuRequested,\r\n    addedToCart,\r\n    deleteFromCart,\r\n    menuError\r\n}; \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import Spinner from './spinner';\n\nexport default Spinner;","import React from 'react';\n\nconst Spinner = () => {\n    return <div className=\"spinner\">loading...</div>\n}\n\nexport default Spinner;","import Error from './error';\n\nexport default Error;","import React from 'react';\n\nconst Error = () => {\n    return <div className=\"error\">Error</div>\n}\n\nexport default Error;","import React, {Component} from 'react';\nimport MenuListItem from '../menu-list-item';\nimport { connect } from 'react-redux';\nimport WithRestoService from '../hoc';\nimport {menuLoaded,menuRequested, addedToCart,menuError} from '../../actions';\nimport Spinner from '../spinner';\nimport Error from '../error';\n\nimport './menu-list.scss';\n\nclass MenuList extends Component {\n    componentDidMount() {\n        this.props.menuRequested();\n\n        const { RestoService } = this.props;\n        RestoService.getMenuItems()\n        .then(res => this.props.menuLoaded(res))\n        .catch(() => this.props.menuError());\n    }\n\n    render() {\n        const {menuItems,loading,addedToCart,error} = this.props;\n\n        if(error) {\n            return <Error/>\n        }\n\n        if(loading) {\n            return <Spinner/>\n        }\n\n        const items = menuItems.map(menuItem => {\n            return ( \n                    <MenuListItem \n                    key={menuItem.id} \n                    menuItem={menuItem}\n                    onAddToCart={() => addedToCart(menuItem.id)}/>\n                    )\n        })\n\n        return (\n            <View items = {items}/>\n        )\n    }\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        menuItems: state.menu,\n        loading: state.loading,\n        error:state.error\n    }\n};\n\nconst mapDispatchToProps = {\n   menuLoaded,\n   menuRequested,\n   addedToCart,\n   menuError\n};\n\nconst View = ({items}) => {\n    return (\n        <ul className=\"menu__list\">\n            {items}\n        </ul>\n    )\n}\n\nexport default WithRestoService()(connect(mapStateToProps,mapDispatchToProps)(MenuList));","import MenuList from './menu-list';\nexport default MenuList;","import React from 'react';\nimport MenuList from '../menu-list';\n\nconst MainPage = () => {\n    return (\n        <MenuList/>\n    )\n}\n\nexport default MainPage;\n","import React from 'react';\nimport './cart-table.scss';\nimport {connect} from 'react-redux';\nimport { deleteFromCart } from '../../actions';\nimport WithRestoService from '../hoc';\n\nconst CartTable = ({items,deleteFromCart,RestoService}) => {\n    if (items.length === 0) {\n        return ( <div className=\"cart__title\">Корзина пуcта:</div>)\n    }\n    return (\n        <>\n            <div className=\"cart__title\">Ваш заказ:</div>\n            <div className=\"cart__list\">\n                {\n                    items.map(item=> {\n                        const {title,price,id,url,qntty} = item;\n                        return (\n                        <div key={id} className=\"cart__item\">\n                            <img src={url} className=\"cart__item-img\" alt={title}></img>\n                            <div className=\"cart__item-title\">{title}</div>\n                            <div className=\"cart__item-price\">{price}$ * {qntty}</div>\n                            <div onClick={() => deleteFromCart(id)} className=\"cart__close\">&times;</div>\n                        </div>\n                        );\n                    })\n                }\n                \n            </div>\n            <button\n                onClick={() => {RestoService.serOrder(generateOrder(items))}}\n                className=\"order\">\n                    Оформить заказ\n            </button>\n        </>\n    );\n};\n\nconst generateOrder = (items) => {\n    const newOrder = items.map(item => {\n        return {\n            id: item.id,\n            qntty: item.qntty\n        }\n    })\n    return newOrder\n}\n\nconst mapStateToProps = ({items}) => {\n    return {\n        items\n    }\n};\n\nconst mapDispatchToProps = {\n    deleteFromCart\n };\n\nexport default WithRestoService()(connect(mapStateToProps,mapDispatchToProps)(CartTable));","import CartTable from './cart-table';\n\nexport default CartTable;","import React from 'react';\nimport CartTable from '../cart-table';\n\nconst CartPage = () => {\n    return (\n        <div className=\"cart\"> \n            <CartTable/>\n        </div>\n    )\n}\n\nexport default CartPage;","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport WithRestoService from '../hoc';\r\nimport {menuLoaded,menuRequested,addedToCart,menuError} from '../../actions';\r\nimport Spinner from '../spinner';\r\nimport Error from '../error';\r\n\r\nimport './item-page.css';\r\n\r\nclass ItemPage extends Component {\r\n\r\n    componentDidMount() {\r\n        if(this.props.menuItems.lenth === 0) {\r\n            this.props.menuRequested();\r\n\r\n            const {RestoService} = this.props;\r\n            RestoService.getMenuItems()\r\n            .then(res => this.props.menuLoaded(res))\r\n            .catch(error => this.props.menuError());\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {menuItems,loading,addedToCart,error} = this.props;\r\n\r\n        if(error) {\r\n            return (\r\n                <div className=\"item_page\">\r\n                    <Error/>\r\n                </div>\r\n            ) \r\n        }\r\n\r\n        if(loading) {\r\n            return (\r\n                <div className=\"item_page\">\r\n                    <Spinner/>\r\n                </div>\r\n            ) \r\n        }\r\n        const item = menuItems.find(elem => +elem.id === +this.props.match.params.id)\r\n        const {title,price,url,category,id} = item;\r\n\r\n        return (\r\n            <div className=\"item_page\">\r\n                <div className=\"menu__item item_block\">\r\n                    <div className=\"menu__title\">{title}</div>\r\n                    <img className=\"menu__img\" src={url} alt={title}></img>\r\n                    <div className=\"menu__category\">Category: <span>{category}</span></div>\r\n                    <div className=\"menu__price\">Price: <span>${price}</span></div>\r\n                    <button onClick={() => addedToCart(id)}\r\n                        className=\"menu__btn\">Add to cart</button>\r\n                    <span className={`menu__category_Img ${category}`}></span>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        menuItems: state.menu,\r\n        loading: state.loading,\r\n        error:state.error\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n   menuLoaded,\r\n   menuRequested,\r\n   menuError,\r\n   addedToCart\r\n};\r\n\r\n\r\nexport default WithRestoService()(connect(mapStateToProps,mapDispatchToProps)(ItemPage));","export default __webpack_public_path__ + \"static/media/shopping-cart-solid.f0d47d21.svg\";","import AppHeader from './app-header';\n\nexport default AppHeader;","import React from 'react';\nimport cartIcon from './shopping-cart-solid.svg';\nimport './app-header.scss';\nimport {Link} from 'react-router-dom';\nimport {connect} from 'react-redux';\n\n\nconst AppHeader = ({totalPrice}) => {\n    return (\n        <header className=\"header\">\n            <Link to={'/'} className=\"header__link\">Menu</Link>\n            <Link to=\"/cart\" className=\"header__link\">\n                <img className=\"header__cart\" src={cartIcon} alt=\"cart\"></img>\n                Total: {totalPrice} $\n            </Link>\n        </header>\n    )\n};\n\nconst mapStateToProps = ({totalPrice}) => {\n    return {\n        totalPrice\n    }\n}\n\nexport default connect(mapStateToProps)(AppHeader);","export default __webpack_public_path__ + \"static/media/food-bg.fd26761e.jpg\";","import App from './app';\n\nexport default App;","import React from 'react';\nimport {MainPage, CartPage,ItemPage} from '../pages';\nimport AppHeader from '../app-header';\nimport {Route,Switch} from 'react-router-dom';\n\nimport Background from './food-bg.jpg';\n\nconst App = () => {\n    return (\n        <div style={{background: `url(${Background}) center center/cover no-repeat`}} className=\"app\">\n            <AppHeader/>\n            <Switch>\n                <Route \n                    path=\"/\"\n                    component={MainPage}\n                    exact/>\n\n                <Route\n                    path=\"/cart\"\n                    component={CartPage}/>\n                <Route\n                    path=\"/:id\"\n                    component={ItemPage}/>    \n            </Switch>\n        </div>\n    )\n}\n\nexport default App;","import React, {Component} from 'react';\nimport Error from '../error';\n\nexport default class ErrorBoundary extends Component {\n    \n    state ={\n        error:false\n    }\n\n    componentDidCatch() {\n        this.setState( {error:true});\n    }\n\n\n    render() {\n        if (this.state.error) {\n            return <Error/>\n        } \n\n        return this.props.children;\n      \n    }\n}","import ErrorBoundary from './error-boundry';\n\nexport default ErrorBoundary;","export default class RestoService {\r\n    _apiBase = 'https://my-json-server.typicode.com/Abylai1812/resto-app';\r\n\r\n    async getResource(url) {\r\n        const res = await fetch(`${this._apiBase}${url}`);\r\n\r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch ${url}` + \r\n            `, received ${res.status}`);  \r\n        }\r\n        return await res.json();\r\n    }\r\n\r\n    async getMenuItems () {\r\n        return await this.getResource(`/menu/`);\r\n    }\r\n\r\n    async getItem(id) {\r\n        const res = await this.getResource('/menu/');\r\n        console.log(res);\r\n        const item = res.find( (elem) => {\r\n            return elem.id === + id;\r\n        })\r\n        return item;\r\n    }\r\n\r\n    async setOrder(order) {\r\n        const number = await this.getOrderNumber();\r\n        const newOrder = {\r\n            id: number,\r\n            order: order\r\n        }\r\n        const response = await fetch(`${this._apiBase}/orders`, {\r\n            method:'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8'\r\n            },\r\n            body: JSON.stringify(newOrder)\r\n        });\r\n        if (!response.ok) {\r\n            throw new Error('json error');\r\n        }\r\n    }\r\n\r\n    async getOrderNumber() {\r\n        const res = await this.getResource('/orders/');\r\n        const orderNumber = res.length+1;\r\n\r\n        return orderNumber\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","const initialState = {\r\n    menu: [],\r\n    loading:true,\r\n    error:false,\r\n    items:[],\r\n    totalPrice:0\r\n}\r\n\r\nconst reducer = (state = initialState,action ) => {\r\n    switch (action.type) {\r\n        case 'MENU_LOADED':\r\n            return {\r\n                ...state,\r\n                menu: action.payload,\r\n                loading:false,\r\n                error:false\r\n            };\r\n        case 'MENU_REQUESTED':\r\n            return {\r\n                ...state,\r\n                menu: state.menu,\r\n                loading:true,\r\n                error:false\r\n            };\r\n        case 'MENU_ERROR':\r\n                return {\r\n                    ...state,\r\n                    menu: state.menu,\r\n                    loading:true,\r\n                    error:true\r\n                };\r\n        case 'ITEM_ADD_TO_CART':\r\n                const id = action.payload;\r\n                const itemInd = state.items.findIndex(item => item.id === id);\r\n                if (itemInd >= 0) {\r\n                    const itemInState = state.items.find(item => item.id === id);\r\n                    const newItem = {\r\n                        ...itemInState,\r\n                        qntty: ++itemInState.qntty\r\n                    }\r\n                    return {\r\n                        ...state,\r\n                        items:[\r\n                            ...state.items.slice(0, itemInd),\r\n                            newItem,\r\n                            ...state.items.slice(itemInd + 1)\r\n                        ],\r\n                        totalPrice: state.totalPrice + newItem.price\r\n                    }\r\n                }\r\n                const item = state.menu.find(item => item.id === id);\r\n                const newItem = {\r\n                    title:item.title,\r\n                    price:item.price,\r\n                    url: item.url,\r\n                    id: item.id,\r\n                    qntty:1\r\n                };\r\n                return {\r\n                    ...state,\r\n                    items:[\r\n                        ...state.items,\r\n                        newItem\r\n                    ],\r\n                    totalPrice: state.totalPrice + newItem.price\r\n                };\r\n                case 'ITEM_REMOVE_FROM_CART':\r\n                    const idx = action.payload;\r\n                    const itemIndex = state.index.findIndex(item => item.id === idx);\r\n                    const price = state.items[itemIndex]['price'] * state.items[itemIndex]['qntty'];\r\n                    return {\r\n                        ...state,\r\n                        items: [\r\n                            ...state.items.slice(0, itemIndex),\r\n                            ...state.items.slice(itemIndex + 1)\r\n                        ],\r\n                        totalPrice: state.totalPrice - price\r\n                    }\r\n        default:\r\n        return state; \r\n    }\r\n}\r\n\r\nexport default reducer;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {createStore} from 'redux';\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\nimport {Provider} from 'react-redux';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport ErrorBoundry from './components/error-boundry';\nimport RestoService from './services/resto-service';\nimport RestoServiceContext from './components/resto-service-context';\nimport store from './store';\n\nimport './index.scss';\n\nconst restoService = new RestoService();\n\nReactDOM.render(\n    <Provider store={store}>\n        <ErrorBoundry>\n            <RestoServiceContext.Provider value={restoService}>\n                <Router>\n                    <App/>\n                </Router>\n            </RestoServiceContext.Provider>\n        </ErrorBoundry>\n    </Provider>\n    , document.getElementById('root'));\n\n"],"sourceRoot":""}